<!doctype html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <style type="text/css">
        .outer{
            margin: 200px auto;
            width: 140px;
        }
        .box{
            display: inline-block;
            width: 40px;
            height: 20px;
            border: 1px solid black;
        }
    </style>
    <title>Document</title>
</head>
<body>
<div class="outer">
    <div id="zero" class="box" ></div>
    <div id="one" class="box"  ></div>
    <div id="two" class="box" ></div>
    <div id="three" class="box" ></div>
    <div id="four" class="box" ></div>
    <div id="five" class="box" ></div>
    <div id="six" class="box" ></div>
    <div id="seven" class="box" ></div>
    <div id="eight" class="box" ></div>
    <button id="stop">STOP</button>
    <button id="refresh">REFRESH</button>
</div>

<script type="text/javascript">
    document.addEventListener('DOMContentLoaded', function(event){
        var count = 0, x, y,
                flag = false;
        document.getElementById("stop").addEventListener("click",function(){
            flag = true;
        });
        document.getElementById("refresh").addEventListener("click", function(){
            location.reload();
        });
        var something = function() {
            var arr1 = ["zero", "one", "two", "three", "four", "five", "six", "seven", "eight"];
            if(flag){
                for(var i =0; i<9; i++){
                    var old_element = document.getElementById(arr1[i]);
                    var new_element = old_element.cloneNode(true);
                    old_element.parentNode.replaceChild(new_element, old_element);
                    y.style.backgroundColor = "transparent";
                }
                return;
            }


            x = Math.round(Math.random() * 10);
            if (x === 10 || x === 9) {
                x = 8;
            }

             y = document.getElementById(arr1[x]);
            y.style.backgroundColor = "red";
        };
        something();

            document.getElementById("zero").addEventListener("click", function(){
                x===0 ? count++ : count--;
                y.style.backgroundColor = "transparent";
                console.log(count);
                something.apply(null);
            });
            document.getElementById("one").addEventListener("click", function(){
                x===1 ? count++ : count--;
                y.style.backgroundColor = "transparent";
                console.log(count);
                something.apply(null);
            });
            document.getElementById("two").addEventListener("click", function(){
                x===2 ? count++ : count--;
                y.style.backgroundColor = "transparent";
                console.log(count);
                something.apply(null);
            });
            document.getElementById("three").addEventListener("click", function(){
                x===3 ? count++ : count--;
                y.style.backgroundColor = "transparent";
                console.log(count);
                something.apply(null);
            });
            document.getElementById("four").addEventListener("click", function(){
                x===4 ? count++ : count--;
                y.style.backgroundColor = "transparent";
                console.log(count);
                something.apply(null);
            });
            document.getElementById("five").addEventListener("click", function(){
                x===5 ? count++ : count--;
                y.style.backgroundColor = "transparent";
                console.log(count);
                something.apply(null);
            });
            document.getElementById("six").addEventListener("click", function(){
                x===6 ? count++ : count--;
                y.style.backgroundColor = "transparent";
                console.log(count);
                something.apply(null);
            });
            document.getElementById("seven").addEventListener("click", function(){
                x===7 ? count++ : count--;
                y.style.backgroundColor = "transparent";
                console.log(count);
                something.apply(null);
            });
            document.getElementById("eight").addEventListener("click", function(){
                x===8 ? count++ : count--;
                y.style.backgroundColor = "transparent";
                console.log(count);
                something.apply(null);
            });
    });
</script>
</body>
</html>